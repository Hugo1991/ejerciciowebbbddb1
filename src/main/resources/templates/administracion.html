<html>
<head>  

        <link href="css/bootstrap.min.css" rel="stylesheet"/>
        <link href="fileinput.css" media="all" rel="stylesheet" type="text/css" />
        <script src="js/jquery.min.js"></script>
        <script src="js/fileinput.min.js" type="text/javascript"></script>
        <script src="js/javascript.js" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="css/style.css"/>
        <link href="css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
        <script src="js/modal.js"></script>
</head>
<body>
<div id="pagina">
    <div id="super">
    	<header>
        	<h1 id="logo" class="logo" itemscope="" itemtype="http://schema.org/Organization">
            	<a itemprop="url" href="/" title="back_to_home"  onclick="Webtrends.multiTrack({argsa: ['WT.dl', '99','DCSext.hdr_type','logo PIX']})">
					<img itemprop="logo" src="img/poxmania.png" alt="Poxmania"/>
				</a>
        	</h1>
       		<form class="search" id="searchForm" method="GET"  action="/index">
	       		<fieldset>
		      		<span class="glyphicon glyphicon-search"></span>
		      		<input class="searchInput" id="search" name="find" data-search-url="http://www.pixmania.es/autocomplete/q/placeholder/ajax.html" data-min-chars="1" type="search" autocomplete="off" spellcheck="false" placeholder="¿Qué estás buscando?" dir="ltr" required="true"/>
		      		<input type="hidden" value="keyword_search" name="subaction"/>
		      		<button id="search_bttn" class="button btn btnBold" type="submit"> Buscar</button>
	       		</fieldset>
        	</form>	
        	<div class="toolbar">
            	<button id="micuenta" class="button btn btnBold" type="submit">Mi Cuenta</button>
            	<a href="/mostrarCarrito">
                    <button id="search_bttn" class="button btn btnBold" type="submit">
                        Cesta
                        <span class="ico-pedidos">
                            <span  th:text="|${carrito.getNumeroProductos()}|" class="carrito">0</span>
                        </span>
                    </button>
                </a>
        	</div>
    	</header>
    	<div id="seleccion">
        	<ul class="nav">
        	    <li><a onclick="show('PRODUCTOS')">Productos</a></li>
            	<li><a onclick="show('PEDIDOS')">Pedidos</a></li>
        	</ul>
    	</div>
    </div>
    <div id="cuerpo">      
    <!--Ignacio de lucas & Hugo Fernandez Visier-->
		<div class="panel panel-default" id="contenido">            
        	<div class="container-fluid">
                <div id="PRODUCTOS">
        		<div id="informacion">
        			<div class="panel panel-default" id="infor">
        				<div class="panel-heading" id="titulo">
        					<h3><p th:text="|${categorias}|"/></h3>
        				</div>
        				<div class="panel-body" id="panel">
                            <div id="catalogo">
        					<p th:each="producto : ${productos}">
        							<div th:if="(${productos} != null)" class="panel panel-default" id="pro">
										<div class="prod_list">
											<div id="imgProd_nomProd">
												<img th:src="|${producto.getImagen()}|" id="img_prod"/>
        										<a th:href="@{/mostrarProducto(idProducto=${producto.getId()})}" th:text="|${producto.getNombre()}|"/>
											</div>
        									<div id="precioInfo">
        										<h2 class="precioListProd" th:text="|${producto.getPrecio()}|+&euro;"/>
        										<a th:href="@{/mostrarProducto(idProducto=${producto.getId()})}" > 
        											<button id="search_bttn" class="button btn btnBold" type="submit">Más Información</button>
        										</a>
        									</div>         
                                                <form id="admin-bor" th:action="@{/borrarProducto}" method="POST">
                                                	<input th:value="${producto.getId()}" type="hidden" th:name="idProducto"/>
                                                    <button class="eliminar" type="submit"><span class="glyphicon glyphicon-remove-sign"></span>Eliminar</button>
                                                </form>
                                            <button class="bot-editar" onclick="mostrarEdicion('editar')" ><span class="glyphicon glyphicon-pencil" ></span> Modificar</button>
                                            <div id="editar" >
                                                <form class="form-horizontal" role="form" action="#" th:action=""  method="POST">
                                                <div class="form-group">
                                                    <label for="inputName"  class="col-lg-2 control-label">Nombre</label>
                                                    <div class="col-lg-3">
                                                        <input type="name" class="form-control"  placeholder="Nombre" name="nombre" th:field="${nombre}"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputName"  class="col-lg-2 control-label">Precio</label>
                                                    <div class="col-lg-3">
                                                        <input type="name" class="form-control"  placeholder="precio" name="precio" th:field=""/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputName"  class="col-lg-2 control-label">Descripción</label>
                                                    <div class="col-lg-3">
                                                        <textarea class="form-control" placeholder="Descripción del producto" rows="1"></textarea>
                                                    </div>
                                                </div>
                                                <button  class="btn btn-success guardar">Guardar</button>
                                                
                                                </form>
                                                <button onclick="mostrarEdicion('salir-editar')" class="btn btn-default salir">salir</button>
                                            </div>
										</div>
									</div>
        						
							</p>
                        </div>
                        <div  id="nuevo_prod">
                            <div class="container">
                                <button id="search_bttn" class="button btn btnBold"  data-toggle="modal" data-target="#plantilla-producto">Nuevo Producto...</button>
                            </div>
                        </div>
                        <div class="modal fade" id="plantilla-producto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog">                                    
                                <div class="modal-content">                                     
                                    <div class="modal-header">                                    
                                        <button type="button" class="close" data-dismiss="modal">                                
                                            <span aria-hidden="true">&times;</span>
                                            <span class="sr-only">Cerrar</span>
                                        </button> 
                                        <h4 class="modal-title" id="myModalLabel">Producto</h4> 
                                    </div> 
                                    <div id="plantilla-producto" class="modal-body"> 
                                        <form class="form-horizontal" role="form" action="#" th:action=""  method="POST">
                                            <div class="form-group">
                                                <label for="inputName"  class="col-lg-2 control-label">Nombre</label>
                                                <div class="col-lg-3">
                                                <input type="name" class="form-control"  placeholder="Nombre" name="nombre" th:field="${nombre}"/>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputName"  class="col-lg-2 control-label">Categoria</label>
                                                <div class="col-lg-3">
                                                <input type="name" class="form-control"  placeholder="Categoria" name="nombre" th:field="${nombre}"/>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputName"  class="col-lg-2 control-label">Precio</label>
                                                <div class="col-lg-3">
                                                <input type="name" class="form-control"  placeholder="Precio" name="nombre" th:field="${nombre}"/>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="inputName"  class="col-lg-2 control-label">Descripción</label>
                                                <div class="col-lg-3">
                                                <textarea class="form-control" placeholder="Descripción del producto" rows="3"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                    		<input id="file-1" type="file" class="file" name="imagen" multiple="true" data-preview-file-type="any"/>
                                    	   </div>
                                    	 </form>
                                    </div> 
                                    <div class="modal-footer">
                                        <button id="search_bttn" class="button btn btnBold" type="submit">Añadir Producto</button>
                                    </div> 
                                </div> 
                            </div> 
                        </div>
                        </div>
        			</div>
        		</div>
                </div>
                <div id="PEDIDOS" style="display:none;">
                            		<div id="informacion">
        			<div class="panel panel-default" id="infor">
        				<div class="panel-heading" id="titulo">
        					<h3><p th:text="|${categorias}|"/></h3>
        				</div>
        				<div class="panel-body" id="panel">
                            <div id="catalogo">
        					<p th:each="pedido : ${pedidos}">
        							<div th:if="(${pedidos} != null)" class="panel panel-default" id="pro">
										<div class="Adm-pedido">
                                        <div class="row">
                                            <div class="col-xs-5">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4>De: <a href="#">nombre usuario</a></h4>
                                                    </div>
                                                    <div class="panel-body">
                                                        <span>Nombre</span>
                                                        <span>PrecioTotal€</span>
                                                        <button id="search_bttn" class="btn btn-default" data-toggle="modal" data-target="#Infom-pedido">Ver Pedido</button>
                                                        <div class="modal fade" id="Infom-pedido" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                            <div class="modal-dialog">
                                                                <div class="modal-content"> 
                                                                    <div class="modal-header"> 
                                                                    <button type="button" class="close" data-dismiss="modal">
                                                                        <span aria-hidden="true">&times;</span>
                                                                        <span class="sr-only">Cerrar</span>
                                                                    </button> 
                                                                    <h4 class="modal-title" id="myModalLabel">Informe del pedido</h4> 
                                                                    </div> 
                                                                    <div id="Infom-pedido" class="modal-body">   
                                                                        <div>
                                                                            <table class="table">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>#</th>
                                                                                        <th>Nombre</th>
                                                                                        <th>Cantidad</th>
                                                                                        <th>Coste</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody th:each="producto : ${pedido.getCarrito().getCarrito()}">
<!--Seccion a repetir-->														
                                                                                    <tr>
                                                                                        <td><img th:src="|${producto.getImagen()}|" id="img_prod"/></td>
                                                                                        <td><a th:href="@{/producto(idProducto=${producto.getId()})}" 
															th:text="|${producto.getNombre()}|"/></td>
                                                                                        <td>Cantidad</td>
                                                                                        <td><a class="precioListProd" th:text="|${producto.getPrecio()}|+&euro;"/></td>
<!-- fin Seccion a repetir-->
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div> 
                                                                    <div class="modal-footer">
                                                                        <h2>Total:</h2>
                                                                    </div> 
                                                                </div> 
                                                            </div> 
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
										</div>
									</div>
							</p>
                        </div> 

        				</div>
        			</div>
        		</div>  
                </div>
        	</div> 
			<footer></footer>
		</div>
	</div>
</div>
</body>
</html>